{"ast":null,"code":"var _jsxFileName = \"/Users/tiff/Desktop/Shilly/Shilly/src/components/ImageUpload.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, forwardRef, useRef, useImperativeHandle } from \"react\";\nimport Axios from \"axios\";\nimport styled from \"styled-components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ImageUpload = /*#__PURE__*/forwardRef(_c = _s((props, ref) => {\n  _s();\n\n  const [fileData, setFileData] = useState();\n  const [images, setFile] = useState(\"\");\n  const [tempImgUrl, setTempImgUrl] = useState(\"\");\n  const [cloudUrl, setCloudUrl] = useState(\"\");\n\n  const handleFileChange = ({\n    target\n  }) => {\n    setFileData(target.files[0]);\n    setTempImgUrl(URL.createObjectURL(target.files[0]));\n    setFile(target.value);\n  };\n\n  const removeFile = () => {\n    setFileData();\n    setFile(\"\");\n    setTempImgUrl(\"\");\n  };\n\n  useImperativeHandle(ref, () => ({\n    handleSubmit: handleSubmit\n  }));\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formdata = new FormData();\n    formdata.append(\"image\", fileData);\n    console.log(\"filedata\", fileData);\n    await Axios.post(`${process.env.REACT_APP_SERVER_URI}/api/uploadImage/image`, formdata).then(res => {\n      if (res.data.success) {\n        console.log(\"res data\", res.data);\n        setCloudUrl(res.data.imgPath);\n        props.parentCallback(cloudUrl);\n      }\n    }).catch(error => console.error(error));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(UploadFileArea, {\n      htmlFor: 'upload-button',\n      tempImgUrl: tempImgUrl,\n      style: {\n        background: fileData ? `url(${tempImgUrl})` : 'white'\n      },\n      children: !fileData && /*#__PURE__*/_jsxDEV(\"box-icon\", {\n        name: \"camera\",\n        color: \"var(--base-30)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 23\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), fileData && /*#__PURE__*/_jsxDEV(RemoveImgButton, {\n      onClick: removeFile,\n      children: /*#__PURE__*/_jsxDEV(\"box-icon\", {\n        name: \"trash-alt\",\n        color: \"var(--base-10)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"upload-button\",\n      type: \"file\",\n      value: images,\n      name: \"file\",\n      accept: \"image/*\",\n      onChange: handleFileChange,\n      placeholder: \"upload image\",\n      style: {\n        display: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}, \"+1GMtoaf0UglTi3kJCOJ+C+KwmM=\", false, function () {\n  return [useImperativeHandle];\n}));\n_c2 = ImageUpload;\nexport default ImageUpload;\nconst UploadFileArea = styled.label`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: var(--br-round);\n  border: ${props => props.tempImgUrl !== \"\" ? 'none' : '2px dashed var(--base-30)'};\n  width: 100px;\n  height: 100px;\n  background-size: cover!important;\n  background-position: center center!important;\n  background-repeat: no-repeat;\n  cursor: pointer;\n  transition: var(--transition);\n\n  &:hover {\n    border: ${props => props.tempImgUrl !== \"\" ? 'none' : '2px dashed var(--accent-pink)'};\n  }\n`;\n_c3 = UploadFileArea;\nconst RemoveImgButton = styled.div`\n  background-color: var(--accent-error);\n  color: var(--base-10);\n  height: 32px;\n  width: 32px;\n  border-radius: var(--br-round);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  left: 34px;\n  bottom: 16px;\n  border: 2px solid var(--base-10);\n  cursor: pointer;\n  transition: var(--transition);\n\n  &:hover {\n    background-color: var(--accent-error-lighter);\n  }\n`;\n_c4 = RemoveImgButton;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"ImageUpload$forwardRef\");\n$RefreshReg$(_c2, \"ImageUpload\");\n$RefreshReg$(_c3, \"UploadFileArea\");\n$RefreshReg$(_c4, \"RemoveImgButton\");","map":{"version":3,"sources":["/Users/tiff/Desktop/Shilly/Shilly/src/components/ImageUpload.jsx"],"names":["React","useState","forwardRef","useRef","useImperativeHandle","Axios","styled","ImageUpload","props","ref","fileData","setFileData","images","setFile","tempImgUrl","setTempImgUrl","cloudUrl","setCloudUrl","handleFileChange","target","files","URL","createObjectURL","value","removeFile","handleSubmit","e","preventDefault","formdata","FormData","append","console","log","post","process","env","REACT_APP_SERVER_URI","then","res","data","success","imgPath","parentCallback","catch","error","background","display","UploadFileArea","label","RemoveImgButton","div"],"mappings":"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","sourcesContent":["import React, { useState, forwardRef, useRef, useImperativeHandle } from \"react\";\nimport Axios from \"axios\";\nimport styled from \"styled-components\";\n\nconst ImageUpload = forwardRef((props, ref) => {\n  const [fileData, setFileData] = useState();\n  const [images, setFile] = useState(\"\");\n  const [tempImgUrl, setTempImgUrl] = useState(\"\");\n  const [cloudUrl, setCloudUrl] = useState(\"\");\n\n  const handleFileChange = ({ target }) => {\n    setFileData(target.files[0]);\n    setTempImgUrl(URL.createObjectURL(target.files[0]));\n    setFile(target.value);\n  };\n\n  const removeFile = () => {\n    setFileData();\n    setFile(\"\");\n    setTempImgUrl(\"\");\n  }\n\n  useImperativeHandle(ref, () => ({\n    handleSubmit: handleSubmit\n  }));\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const formdata = new FormData();\n    formdata.append(\"image\", fileData);\n    console.log(\"filedata\", fileData)\n\n    await Axios.post(`${process.env.REACT_APP_SERVER_URI}/api/uploadImage/image`, formdata)\n      .then((res) => {\n        if (res.data.success) {\n          console.log(\"res data\", res.data)\n          setCloudUrl(res.data.imgPath);\n          props.parentCallback(cloudUrl);\n        }\n      }).catch((error) => console.error(error));\n  };\n\n  return (\n    <div>\n      <UploadFileArea htmlFor={'upload-button'} tempImgUrl={tempImgUrl} style={{background: fileData ? `url(${tempImgUrl})` : 'white' }}>\n        {!fileData && <box-icon name='camera' color='var(--base-30)'></box-icon>}\n      </UploadFileArea>\n      {fileData && <RemoveImgButton onClick={removeFile}>\n        <box-icon name='trash-alt' color='var(--base-10)' ></box-icon>\n      </RemoveImgButton>}\n      <input\n        id=\"upload-button\"\n        type=\"file\"\n        value={images}\n        name=\"file\"\n        accept=\"image/*\"\n        onChange={handleFileChange}\n        placeholder=\"upload image\"\n        style={{display: 'none'}}\n      />\n      {/* <button onClick={handleSubmit}>submit</button> */}\n    </div>\n  );\n})\n\nexport default ImageUpload;\n\nconst UploadFileArea = styled.label`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: var(--br-round);\n  border: ${props => props.tempImgUrl !== \"\" ? 'none' : '2px dashed var(--base-30)'};\n  width: 100px;\n  height: 100px;\n  background-size: cover!important;\n  background-position: center center!important;\n  background-repeat: no-repeat;\n  cursor: pointer;\n  transition: var(--transition);\n\n  &:hover {\n    border: ${props => props.tempImgUrl !== \"\" ? 'none' : '2px dashed var(--accent-pink)'};\n  }\n`;\n\nconst RemoveImgButton = styled.div`\n  background-color: var(--accent-error);\n  color: var(--base-10);\n  height: 32px;\n  width: 32px;\n  border-radius: var(--br-round);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  left: 34px;\n  bottom: 16px;\n  border: 2px solid var(--base-10);\n  cursor: pointer;\n  transition: var(--transition);\n\n  &:hover {\n    background-color: var(--accent-error-lighter);\n  }\n`;"]},"metadata":{},"sourceType":"module"}